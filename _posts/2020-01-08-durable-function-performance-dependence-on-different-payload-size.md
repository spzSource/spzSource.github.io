---
layout: post
title: "Azure Durable Functions: how payload size can impact performance"
date: 2020-01-09 23:30:00 +0300
categories: azure
tags: functions, azure, durable framework, performance, throughput
---

Azure Durable Functions extension is a very cool library that lets you write stateful functions in a serverless compute environment. The library allows you to write code in a same way you write asynchronous code, but instead of calling local async methods Azure Functions (Activity) are called. At a first look it might seem that there is no difference between regular async calls and durable calls, but it's not true.

Regular asynchronous code is handled by compiler by generating async state machine, so that async method is able to resume at the place where execution was suspended previously. But in case Durable Functions (orchestrator) we do not have state machine generated by compiler, so that when function resumed after async operation (Activity) finished we have to determine what operations were already executed previously and what activities still needed to be run. Here is an example:
